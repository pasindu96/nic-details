<html>

<head>
  <title>NIC DOB Finder</title>
  <link rel="icon" href="https://www.pngrepo.com/png/77000/180/id-card.png">
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Barlow+Condensed&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Barlow+Condensed:wght@400;500&family=Rubik:wght@600&display=swap" rel="stylesheet"> 
  <script src="script.js"></script>

</head>

<body>

  <div class="card" style="width: 30rem; margin-top: 100px; border: 2px solid black;">
    <img src="https://www.shareicon.net/data/256x256/2016/09/01/822585_world_512x512.png" class="center" alt="..."
      width="100px">
    <h3 class="card-title"><b>Sri Lanka NIC Information</b></h3>
    <div class="card-body">
      <div class="row">
        <div class="col-5">
          <label id="niclabel">Enter your NIC </label>
        </div>
        <div class="col-6">
          <input type="text" id="nic" maxLength="12" class="form-control" placeholder="Enter your NIC here..."
            style="font-weight: bold;" required />
        </div>
      </div>

      <br>
      <a href="#" onClick="getData(document.getElementById('nic').value)" id="btnSearch" class="btn btn-primary">Get
        Details</a>
      <a href="#" onClick="clearData()" id="btnClear" class="btn btn-primary">Clear</a>
      <a href="#" onClick="viewAllData()" id="btnViewData" class="btn btn-primary">View Records</a>
    </div>
    <span id="gender" class="data"></span>
    <br>
    <span id="dob" class="data"></span>
    <!-- A function to trigger the click event by pressing the enter key -->
    <script>
      var input = document.getElementById("nic");
      document.getElementById("nic").addEventListener("keyup", function (event) {
        if (event.keyCode === 13) {
          event.preventDefault();
          document.getElementById("btnSearch").click();
        }
      });
    </script>

  </div>

  <!-- Error Alert box -->
  <div class="popup_box" id="popup_box">
    <i class="fas fa-exclamation"></i>
    <h1 id="error"></h1>
    <br>
    <div class="btns">
      <a href="#" class="btnok">OK</a>
    </div>
    <br>
  </div>

  <!-- Success Alert box -->
  <div class="popup_box_success" id="popup_box_success">
    <i class="fas fa-exclamation"></i>
    <h1 id="success"></h1>
    <br>
    <div class="btns">
      <a href="#" class="btnSuccess">OK</a>
    </div>
    <br>
  </div>

  <!-- Edit data box -->
  <div class="popup_box_edit" id="popup_box_edit">

    <div >
      <input type="text" id="nicEdit" maxLength="12" class="form-control" placeholder="Enter your NIC here..."
        style="font-weight: bold;" disabled />
    </div>
    <div >
      <input type="text" id="genderEdit" maxLength="10" class="form-control" placeholder="Enter your NIC here..."
        style="font-weight: bold;" required />
    </div>
    <div >
      <input type="text" id="dobEdit" maxLength="30" class="form-control" placeholder="Enter your NIC here..."
        style="font-weight: bold;" required />
    </div>
    <br>
    <div class="btns">
      <a href="#" class="btnUpdate" onClick="editRecord(document.getElementById('nicEdit').value,document.getElementById('genderEdit').value,document.getElementById('dobEdit').value)">Update Details</a>
      <a href="#" class="btnCancel">Cancel</a>
    </div>
    <br>
  </div>

  <!-- Delete confirm box -->
  <div class="popup_delete" id="popup_delete">
    <i class="fas fa-question"></i>
    <h1>Do you really want to delete the record ?</h1>
    <br>
    <div class="btns">
      <button id="btnCancel">Cancel</button>
      <button id="btnDelete" >Delete</button>
    </div>
    <br>
  </div>


  <!-- View all records in the database -->
  <div class="card" style="width: 50rem; margin-top: 40px;" id="tblDiv">
    <br>
    <h3 class="card-title"><b>Previous Records</b></h3>
    <div class="card-body">
      <div class="row">
        <table class="table table-striped" style="text-align: center; align-content: center;" id="tblRecords">
          <tr class="bg-info">
            <th>NIC</th>
            <th>Gender</th>
            <th>Birthday</th>
            <th>Edit</th>
            <th>Delete</th>
          </tr>
          <tbody id="myTable">
            <!-- Table body which is loaded dynamucally -->
          </tbody>
        </table>
      </div>
    </div>
  </div>
</body>

</html>